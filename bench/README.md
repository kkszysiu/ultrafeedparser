## Benchmarks

How to run benchmarks?
```bash
pip install pytest
pip install pytest-benchmark
```

Now dependencies differs between Python 2 and Python 3.
Here is the list for Python 2.7:
```bash
pip install feedparser
pip install speedparser
```

For Python 3.8:
```bash
pip install feedparser
pip install atoma
```

We cannot use `speedparser` official release with Python 3.x so it was excluded from the benchmarks for Python 3
For Python 2.7 `atoma` package is not supported (Python 3 only) so it was excluded from the results.

### Worth noting
Only `ultrafeedparser` and `atoma` supports JSON feed parsing so far, so only these are included for json feed parsing benchmarks.
Only `atoma` doesn't support RSS 1.0 feed parsing so far, so it was excluded from related benchmarks.

### System

Benchmark suite executing on the following system:

<table style="width: 1%">
  <tr>
    <th style="width: 1%; white-space: nowrap">Operating System</th>
    <td>macOS</td>
  </tr><tr>
    <th style="white-space: nowrap">CPU Information</th>
    <td style="white-space: nowrap">Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz</td>
  </tr><tr>
    <th style="white-space: nowrap">Number of Available Cores</th>
    <td style="white-space: nowrap">16</td>
  </tr><tr>
    <th style="white-space: nowrap">Available Memory</th>
    <td style="white-space: nowrap">32 GB</td>
  </tr><tr>
    <th style="white-space: nowrap">Python Version</th>
    <td style="white-space: nowrap">Python 2.7.17 and Python 3.8.1</td>
  </tr>
</table>

### Statistics

For Python 3.8:
```bash


----------------------------------------------------------------------------------- benchmark 'atom10-parse': 3 tests -----------------------------------------------------------------------------------
Name (time in us)                   Min                 Max                Mean             StdDev              Median                IQR            Outliers  OPS (Kops/s)            Rounds  Iterations
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse      96.7889 (1.0)      124.7470 (1.0)      103.3960 (1.0)       7.8897 (1.0)      101.0594 (1.0)       4.1149 (1.0)           1;1        9.6716 (1.0)          10        1000
test_atoma_parse               350.9268 (3.63)     435.5855 (3.49)     364.9780 (3.53)     25.0168 (3.17)     358.2401 (3.54)      5.5648 (1.35)          1;1        2.7399 (0.28)         10         273
test_feedparser_parse          876.3790 (9.05)     916.4596 (7.35)     895.0524 (8.66)     12.1189 (1.54)     896.5015 (8.87)     17.2520 (4.19)          2;0        1.1173 (0.12)         10         100
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------- benchmark 'json-parse': 2 tests -----------------------------------------------------------------------------------
Name (time in us)                   Min                 Max                Mean            StdDev              Median               IQR            Outliers  OPS (Kops/s)            Rounds  Iterations
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse      50.7589 (1.0)       53.6799 (1.0)       51.9507 (1.0)      1.0460 (1.0)       51.8689 (1.0)      1.9053 (1.0)           3;0       19.2490 (1.0)          10        1962
test_atoma_parse               136.9362 (2.70)     158.2680 (2.95)     141.7577 (2.73)     6.5945 (6.30)     139.5226 (2.69)     7.4148 (3.89)          1;1        7.0543 (0.37)         10        1000
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

---------------------------------------------------------------------------------------- benchmark 'rss-parse': 2 tests ---------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean             StdDev                Median                IQR            Outliers         OPS            Rounds  Iterations
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       190.5000 (1.0)        204.6220 (1.0)        194.4737 (1.0)       5.2585 (1.0)        191.3805 (1.0)       5.1470 (1.0)           2;1  5,142.0823 (1.0)          10        1000
test_feedparser_parse          1,291.8711 (6.78)     1,422.0691 (6.95)     1,318.4466 (6.78)     38.1970 (7.26)     1,303.4546 (6.81)     25.3510 (4.93)          1;1    758.4683 (0.15)         10         100
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------- benchmark 'rss20-parse': 3 tests --------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean             StdDev                Median                IQR            Outliers         OPS            Rounds  Iterations
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       133.0159 (1.0)        166.6889 (1.0)        138.0279 (1.0)      10.1983 (1.0)        134.2994 (1.0)       3.3967 (1.0)           1;1  7,244.9130 (1.0)          10        1000
test_atoma_parse                 398.6320 (3.00)       481.8093 (2.89)       412.2896 (2.99)     24.7307 (2.42)       404.8929 (3.01)      8.4504 (2.49)          1;1  2,425.4798 (0.33)         10         248
test_feedparser_parse          1,117.2795 (8.40)     1,306.3097 (7.84)     1,151.3157 (8.34)     57.5234 (5.64)     1,130.2722 (8.42)     22.2278 (6.54)          1;2    868.5715 (0.12)         10         100
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
```

For Python 2.7:
```bash

--------------------------------------------------------------------------------------- benchmark 'atom10-parse': 3 tests ---------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean             StdDev                Median                 IQR            Outliers          OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse        77.2247 (1.0)         96.1143 (1.0)         82.9558 (1.0)       7.0283 (1.0)         79.9263 (1.0)        7.5971 (1.0)           2;0  12,054.6193 (1.0)          10        1268
test_speedparser_parse           618.0246 (8.00)       816.7988 (8.50)       656.0935 (7.91)     60.2305 (8.57)       637.5974 (7.98)      37.6411 (4.95)          1;1   1,524.1731 (0.13)         10         164
test_feedparser_parse          1,316.9503 (17.05)    1,568.3818 (16.32)    1,393.0638 (16.79)    78.2485 (11.13)    1,366.7297 (17.10)    116.9491 (15.39)         1;0     717.8422 (0.06)         10         100
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

---------------------------------------------- benchmark 'json-parse': 1 tests -----------------------------------------------
Name (time in us)                  Min       Max     Mean  StdDev   Median     IQR  Outliers  OPS (Kops/s)  Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse     78.3426  112.3022  85.0065  9.9696  82.2493  5.4499       1;1       11.7638      10        1287
------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------- benchmark 'rss-parse': 3 tests ----------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean              StdDev                Median                 IQR            Outliers         OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       106.9679 (1.0)        156.7910 (1.0)        122.2637 (1.0)       14.9234 (1.0)        117.3265 (1.0)       17.8270 (1.0)           2;0  8,179.0429 (1.0)          10        1000
test_speedparser_parse           954.8096 (8.93)     1,141.1235 (7.28)     1,007.9232 (8.24)      54.9365 (3.68)       991.5465 (8.45)      24.4845 (1.37)          1;2    992.1391 (0.12)         10         105
test_feedparser_parse          2,197.3300 (20.54)    3,618.6886 (23.08)    2,746.9440 (22.47)    441.6834 (29.60)    2,741.4000 (23.37)    696.6496 (39.08)         2;0    364.0409 (0.04)         10         100
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

---------------------------------------------------------------------------------------- benchmark 'rss20-parse': 3 tests ---------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean              StdDev                Median                 IQR            Outliers         OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       108.2358 (1.0)        130.3480 (1.0)        112.6103 (1.0)        6.6167 (1.0)        110.3774 (1.0)        4.8718 (1.0)           1;1  8,880.1848 (1.0)          10        1000
test_speedparser_parse         1,013.7391 (9.37)     1,343.5888 (10.31)    1,114.2814 (9.90)      93.0896 (14.07)    1,100.3137 (9.97)     105.3786 (21.63)         2;1    897.4394 (0.10)         10         100
test_feedparser_parse          1,941.3900 (17.94)    2,926.4712 (22.45)    2,213.7365 (19.66)    353.4688 (53.42)    2,074.6899 (18.80)    235.4717 (48.33)         2;2    451.7249 (0.05)         10         100
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean

```