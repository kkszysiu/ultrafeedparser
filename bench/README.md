## Benchmarks

How to run benchmarks?
```bash
pip install pytest
pip install pytest-benchmark
```

Now dependencies differs between Python 2 and Python 3.
Here is the list for Python 2.7:
```bash
pip install feedparser
pip install speedparser
```

For Python 3.8:
```bash
pip install feedparser
pip install atoma
```

We cannot use `speedparser` official release with Python 3.x so it was excluded from the benchmarks for Python 3
For Python 2.7 `atoma` package is not supported (Python 3 only) so it was excluded from the results.

### Worth noting
Only `ultrafeedparser` and `atoma` supports JSON feed parsing so far, so only these are included for json feed parsing benchmarks.
Only `atoma` doesn't support RSS 1.0 feed parsing so far, so it was excluded from related benchmarks.

### System

Benchmark suite executing on the following system:

<table style="width: 1%">
  <tr>
    <th style="width: 1%; white-space: nowrap">Operating System</th>
    <td>macOS</td>
  </tr><tr>
    <th style="white-space: nowrap">CPU Information</th>
    <td style="white-space: nowrap">Intel(R) Core(TM) i9-9880H CPU @ 2.30GHz</td>
  </tr><tr>
    <th style="white-space: nowrap">Number of Available Cores</th>
    <td style="white-space: nowrap">16</td>
  </tr><tr>
    <th style="white-space: nowrap">Available Memory</th>
    <td style="white-space: nowrap">32 GB</td>
  </tr><tr>
    <th style="white-space: nowrap">Python Version</th>
    <td style="white-space: nowrap">Python 2.7.17 and Python 3.8.1</td>
  </tr>
</table>

### Statistics

For Python 3.8:
```bash

------------------------------------------------------------------------------------ benchmark 'atom10-parse': 3 tests ------------------------------------------------------------------------------------
Name (time in us)                   Min                   Max                Mean             StdDev              Median                IQR            Outliers  OPS (Kops/s)            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse      99.8249 (1.0)        129.3650 (1.0)      109.3787 (1.0)      10.2824 (1.0)      104.2341 (1.0)      16.8788 (1.0)           1;0        9.1425 (1.0)          10        1000
test_atoma_parse               375.4292 (3.76)       439.9040 (3.40)     392.1347 (3.59)     20.3930 (1.98)     383.1286 (3.68)     23.5469 (1.40)          1;1        2.5501 (0.28)         10        1000
test_feedparser_parse          917.2634 (9.19)     1,239.1956 (9.58)     983.5037 (8.99)     95.8675 (9.32)     952.5401 (9.14)     67.0651 (3.97)          1;1        1.0168 (0.11)         10         103
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------- benchmark 'json-parse': 2 tests -----------------------------------------------------------------------------------
Name (time in us)                   Min                 Max                Mean            StdDev              Median               IQR            Outliers  OPS (Kops/s)            Rounds  Iterations
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse      52.1408 (1.0)       70.1834 (1.0)       55.1170 (1.0)      5.3642 (1.0)       53.5401 (1.0)      1.6594 (1.0)           1;1       18.1432 (1.0)          10        1897
test_atoma_parse               147.1429 (2.82)     179.0392 (2.55)     152.4819 (2.77)     9.6851 (1.81)     148.7360 (2.78)     5.4169 (3.26)          1;1        6.5582 (0.36)         10        1000
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------- benchmark 'rss-parse': 2 tests ----------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean              StdDev                Median                 IQR            Outliers         OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       194.7918 (1.0)        249.5461 (1.0)        214.9793 (1.0)       14.9842 (1.0)        214.0520 (1.0)       13.0961 (1.0)           3;1  4,651.6114 (1.0)          10        1000
test_feedparser_parse          1,398.4990 (7.18)     1,978.3783 (7.93)     1,564.0178 (7.28)     167.4648 (11.18)    1,499.0842 (7.00)     158.4721 (12.10)         1;1    639.3789 (0.14)         10         100
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------- benchmark 'rss20-parse': 3 tests --------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean             StdDev                Median                IQR            Outliers         OPS            Rounds  Iterations
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       139.6749 (1.0)        177.1588 (1.0)        150.7290 (1.0)      12.9525 (1.0)        143.3290 (1.0)      21.3411 (1.0)           1;0  6,634.4249 (1.0)          10        1000
test_atoma_parse                 417.2657 (2.99)       513.7450 (2.90)       456.7914 (3.03)     37.9283 (2.93)       447.3080 (3.12)     66.8385 (3.13)          3;0  2,189.1831 (0.33)         10         223
test_feedparser_parse          1,173.5916 (8.40)     1,351.8310 (7.63)     1,241.1497 (8.23)     65.4713 (5.05)     1,227.0510 (8.56)     89.1924 (4.18)          3;0    805.7046 (0.12)         10         100
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
```

For Python 2.7:
```bash

-------------------------------------------------------------------------------------- benchmark 'atom10-parse': 3 tests ---------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean              StdDev                Median                IQR            Outliers         OPS            Rounds  Iterations
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       140.3329 (1.0)        214.5841 (1.0)        157.2740 (1.0)       21.0594 (1.0)        153.0695 (1.0)      10.6812 (1.0)           1;1  6,358.3307 (1.0)          10        1000
test_speedparser_parse           621.5202 (4.43)       866.1151 (4.04)       699.3373 (4.45)      70.0747 (3.33)       681.8860 (4.45)     83.5689 (7.82)          2;1  1,429.9252 (0.22)         10         148
test_feedparser_parse          1,484.0698 (10.58)    2,120.6808 (9.88)     1,564.7726 (9.95)     195.9370 (9.30)     1,500.3252 (9.80)     32.9494 (3.08)          1;1    639.0705 (0.10)         10         100
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

---------------------------------------------- benchmark 'json-parse': 1 tests -----------------------------------------------
Name (time in us)                  Min       Max     Mean  StdDev   Median     IQR  Outliers  OPS (Kops/s)  Rounds  Iterations
------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse     78.9438  106.0637  84.6547  7.9394  82.1774  5.9317       1;1       11.8127      10        1243
------------------------------------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------- benchmark 'rss-parse': 3 tests ----------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean              StdDev                Median                 IQR            Outliers         OPS            Rounds  Iterations
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       257.7858 (1.0)        290.1790 (1.0)        270.1539 (1.0)       11.1105 (1.0)        266.5601 (1.0)       14.1180 (1.0)           3;0  3,701.5937 (1.0)          10        1000
test_speedparser_parse           880.1439 (3.41)       981.4457 (3.38)       925.3211 (3.43)      35.8008 (3.22)       914.4501 (3.43)      58.5274 (4.15)          4;0  1,080.7059 (0.29)         10         110
test_feedparser_parse          2,313.5281 (8.97)     2,805.2807 (9.67)     2,449.7571 (9.07)     137.9045 (12.41)    2,410.1365 (9.04)     120.8711 (8.56)          1;1    408.2037 (0.11)         10         100
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------- benchmark 'rss20-parse': 3 tests ---------------------------------------------------------------------------------------
Name (time in us)                     Min                   Max                  Mean              StdDev                Median                IQR            Outliers         OPS            Rounds  Iterations
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
test_ultrafeedparser_parse       184.1478 (1.0)        227.1979 (1.0)        196.7509 (1.0)       13.8108 (1.0)        192.7965 (1.0)       7.0348 (1.0)           2;2  5,082.5700 (1.0)          10        1000
test_speedparser_parse         1,120.4600 (6.08)     1,503.5892 (6.62)     1,208.0452 (6.14)     107.4299 (7.78)     1,181.1304 (6.13)     37.7607 (5.37)          1;1    827.7836 (0.16)         10         100
test_feedparser_parse          1,978.8599 (10.75)    2,381.3891 (10.48)    2,069.8714 (10.52)    116.4892 (8.43)     2,031.0688 (10.53)    75.4309 (10.72)         1;1    483.1218 (0.10)         10         100
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Legend:
  Outliers: 1 Standard Deviation from Mean; 1.5 IQR (InterQuartile Range) from 1st Quartile and 3rd Quartile.
  OPS: Operations Per Second, computed as 1 / Mean
```